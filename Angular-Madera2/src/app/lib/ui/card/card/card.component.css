:host {
    --cardFooterNbItems: 1;
    --cardBorderRadius: 2px;

    background: linear-gradient(
        to right,
        var(--gray1) calc(var(--cardIndent) + var(--cardBorderRadius)),
        var(--cardBackgroundColor) 0
    );
    border-radius: 2px;
    box-shadow: 0 2px 4px var(--neutral3Faded8);
    color: var(--fontColorBase);
    display: flex;
    flex-direction: column;
    font-size: var(--text14);
    line-height: var(--text14LineHeight);
    overflow: hidden; /* à cause du app-card-status */
    position: relative;
}

:host:not(.card-tabular) {
    padding-left: var(--cardIndent);
}

.card_content {
    color: inherit;
    flex: 1 1 auto;
    grid-template-columns: var(--cardGridTemplateColumns);
}

:host:not(.card-tabular) .card_content {
    background-color: var(--cardBackgroundColor);
    border-radius: var(--cardBorderRadius) 0 0 var(--cardBorderRadius);
    padding: var(--cardPadding) var(--cardPadding) var(--cardPadding)
        var(--cardPaddingLeft);
}

.card_indicator {
    background-color: var(--cardIndicatorColor);
    border-radius: var(--cardBorderRadius) 0 0 var(--cardBorderRadius);
    bottom: 0;
    left: var(--cardIndent);
    position: absolute;
    top: 0;
    width: 3px;
}

.card_footer {
    background-color: var(--gray2);
    box-shadow: inset 0 1px 0 var(--gray1);
    display: flex;
}

/* == Déclinaison tabulaire (simili ligne de tableau) == */
:host.card-tabular .card_content {
    display: grid;
    padding: 0;
}

:host.card-tabular .card_footer {
    display: none;
}

/* == Styles spécifiques lorsque le bouton d'actions est présent == */
:host.card-withActions:not(.card-tabular) {
    --cardActionsOffset: var(--space3);
}

:host.card-withActions:not(.card-tabular) .card_actions {
    position: absolute;
    right: var(--cardActionsOffset);
    top: var(--cardActionsOffset);
}

.card_actions {
    color: var(--linkSecondaryColor);
    height: var(--cardActionsSize);
    transition: color 0.3s ease;
    width: var(--cardActionsSize);
}

.card_actions:hover {
    color: var(--linkSecondaryHoverColor);
}

/* == Déclinaisons liées au collapse (bouton et placeholder) == */
.card_collapse {
    color: var(--neutral4);
    cursor: pointer;
    font-size: 24px;
    /* 12 (margin) - 6 (espace blanc de l'icône) = 6 */
    left: calc(var(--cardIndent) + 6px);
    position: absolute;
    /* 12 = moitié de la hauteur de l'icône */
    top: calc(50% - 12px);
}

/* == Déclinaisons liées au drag & drop == */
:host.draggable-dragged {
    opacity: 0.5;
    z-index: 2;
}

:host.card-withDragDrop.dropzone-hover.dropTree_dropzone-valid {
    --cardBackgroundColor: var(--neutral6) !important;
}
