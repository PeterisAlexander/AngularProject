<div class="pageHeader_title">
    <ng-container *ngTemplateOutlet="pageLabelTpl"></ng-container>

    <div *ngIf="extra">
        <ng-container *ngTemplateOutlet="extra"></ng-container>
    </div>

    <div [class.marginLeft0]="layout.isMobile">
        <ng-content select="app-list-add"></ng-content>

        <ng-container
            *ngIf="
                listAdd.label != null &&
                layout.isDesktop &&
                layout.isFixedPageHeader
            "
        >
            <nz-button-group
                *ngIf="listAdd.extraButtonList.length > 0; else addButtonTpl"
            >
                <ng-container *ngTemplateOutlet="addButtonTpl"></ng-container>

                <button
                    nz-button
                    nz-dropdown
                    nzType="primary"
                    nzSize="small"
                    nzTrigger="click"
                    type="button"
                    [nzDropdownMenu]="listAdd.dropdownMenu"
                >
                    <i nz-icon nzType="down" nzTheme="outline"> </i>
                </button>
            </nz-button-group>
        </ng-container>
    </div>
</div>

<div [class.hidden]="layout.isDesktop && layout.isFixedPageHeader">
    <ng-content select="app-sub-nav"></ng-content>
</div>

<ng-template #pageLabelTpl>
    <app-page-label
        [subtitle]="subtitle"
        [title]="title"
        [extraTitle]="extraTitle"
    ></app-page-label>
</ng-template>

<ng-template #addButtonTpl>
    <button
        nz-button
        nzType="primary"
        nzSize="small"
        (click)="listAdd.add.emit()"
    >
        <i nz-icon nzType="picto:plus-circle"></i>
        {{ listAdd.label }}
    </button>
</ng-template>
